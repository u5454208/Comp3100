define("datePicker/subComponents/day",["lodash","react","core"],function(a,b,c){"use strict";return{displayName:"Day",propTypes:{id:b.PropTypes.string.isRequired,styleId:b.PropTypes.string.isRequired,dateUtils:b.PropTypes.object.isRequired,day:b.PropTypes.object.isRequired,today:b.PropTypes.object.isRequired,calendarDate:b.PropTypes.object.isRequired,closeCalendar:b.PropTypes.func.isRequired,onDateChange:b.PropTypes.func.isRequired,allowPastDates:b.PropTypes.bool.isRequired,allowFutureDates:b.PropTypes.bool.isRequired,disabledDates:b.PropTypes.arrayOf(b.PropTypes.number),disabledDays:b.PropTypes.arrayOf(b.PropTypes.number),selectedDate:b.PropTypes.object},statics:{useSantaTypes:!0},mixins:[c.compMixins.skinBasedComp],componentWillMount:function(){this.isDisabled=this.isDayDisabled(this.props)},componentWillReceiveProps:function(a){this.isDisabled=this.isDayDisabled(a)},isDayDisabled:function(b){var c=b.dateUtils,d=b.day,e=a.some(b.disabledDates,function(a){return c.helpers.isSameDay(d,new Date(a))}),f=a.includes(b.disabledDays,c.helpers.getDay(d)),g=!b.allowPastDates&&c.helpers.isBefore(d,b.today),h=!b.allowFutureDates&&c.helpers.isAfter(d,b.today);return e||f||g||h},getCssClasses:function(){var a=this.props.dateUtils,b=this.props.day,c={};return a.helpers.isSameMonth(b,this.props.calendarDate)?this.isDisabled?c.disabled=!0:a.helpers.isSameDay(b,this.props.selectedDate)?c.selected=!0:a.helpers.isSameDay(b,this.props.today)&&(c.today=!0):c.hidden=!0,this.classSet(c)},handleDayClick:function(){this.props.onDateChange(this.props.day),this.props.closeCalendar()},getSkinProperties:function(){return{"":{onClick:this.isDisabled?null:this.handleDayClick,className:this.getCssClasses()},dayContent:{children:this.props.dateUtils.helpers.getDate(this.props.day)}}}}}),define("datePicker/subComponents/month",["react","lodash","core","santaProps","datePicker/subComponents/day"],function(a,b,c,d,e){"use strict";return{displayName:"Month",propTypes:b.assign({id:a.PropTypes.string.isRequired,styleId:a.PropTypes.string.isRequired,dateUtils:a.PropTypes.object.isRequired,calendarDate:a.PropTypes.object.isRequired,today:a.PropTypes.object.isRequired,closeCalendar:a.PropTypes.func.isRequired,onDateChange:a.PropTypes.func.isRequired,allowPastDates:a.PropTypes.bool.isRequired,allowFutureDates:a.PropTypes.bool.isRequired,disabledDates:a.PropTypes.arrayOf(a.PropTypes.number),disabledDays:a.PropTypes.arrayOf(a.PropTypes.number),selectedDate:a.PropTypes.object},d.santaTypesUtils.getSantaTypesByDefinition(e)),statics:{useSantaTypes:!0},mixins:[c.compMixins.skinBasedComp],isWeekInMonth:function(a){var b=this.props.dateUtils,c=this.props.calendarDate,d=b.helpers.addDays(a,6);return b.helpers.isSameMonth(a,c)||b.helpers.isSameMonth(d,c)},generateDays:function(a){var c=this.props.dateUtils;return b(c.constants.NUMBER_OF_DAYS_IN_WEEK).range().map(function(b){return this.createChildComponent({},"wysiwyg.viewer.components.Day","day",{id:this.props.id+"day",ref:this.props.id+"day"+b,key:this.props.id+"day"+b,style:{},dateUtils:this.props.dateUtils,day:c.helpers.addDays(a,b),today:this.props.today,onDateChange:this.props.onDateChange,closeCalendar:this.props.closeCalendar,selectedDate:this.props.selectedDate,calendarDate:this.props.calendarDate,disabledDates:this.props.disabledDates,disabledDays:this.props.disabledDays,allowPastDates:this.props.allowPastDates,allowFutureDates:this.props.allowFutureDates})},this).value()},generateWeeks:function(){var c=this.props.dateUtils,d=c.helpers.getStartDayOfTheMonth(this.props.calendarDate),e=c.helpers.getStartDayOfTheWeek(d,{weekStartsOn:1});return b(c.constants.MAX_NUMBER_OF_WEEKS).range().map(function(a){return this.props.dateUtils.helpers.addWeeks(e,a)},this).filter(function(a){return this.isWeekInMonth(a)},this).map(function(b){return a.DOM.div({className:this.props.styleId+"_week"},this.generateDays(b))},this).value()},getSkinProperties:function(){return{"":{children:this.generateWeeks()}}}}}),define("datePicker/subComponents/calendar",["react","lodash","core","santaProps","datePicker/subComponents/month"],function(a,b,c,d,e){"use strict";return{displayName:"Calendar",propTypes:b.assign({id:a.PropTypes.string.isRequired,styleId:a.PropTypes.string.isRequired,dateUtils:a.PropTypes.object.isRequired,calendarDate:a.PropTypes.object.isRequired,today:a.PropTypes.object.isRequired,closeCalendar:a.PropTypes.func.isRequired,onDateChange:a.PropTypes.func.isRequired,allowPastDates:a.PropTypes.bool.isRequired,allowFutureDates:a.PropTypes.bool.isRequired,disabledDates:a.PropTypes.arrayOf(a.PropTypes.number),disabledDays:a.PropTypes.arrayOf(a.PropTypes.number),selectedDate:a.PropTypes.object},d.santaTypesUtils.getSantaTypesByDefinition(e)),statics:{useSantaTypes:!0},mixins:[c.compMixins.skinBasedComp],getInitialState:function(){return{calendarDate:this.props.calendarDate}},componentWillReceiveProps:function(a){this.props.dateUtils.helpers.isEqual(this.props.calendarDate,a.calendarDate)||this.setState({calendarDate:a.calendarDate})},generateDayNames:function(){var c=this.props.dateUtils,d=c.helpers.getStartDayOfTheWeek(this.state.calendarDate,{weekStartsOn:1});return b(c.constants.NUMBER_OF_DAYS_IN_WEEK).range().map(function(b){var c=this.props.dateUtils.helpers.addDays(d,b);return a.DOM.div({className:this.props.styleId+"_day-name"},this.props.dateUtils.helpers.getDayNameMin(c))},this).value()},generateMonth:function(){return this.createChildComponent({},"wysiwyg.viewer.components.Month","month",{id:this.props.id+"month",ref:this.props.id+"month",style:{},dateUtils:this.props.dateUtils,selectedDate:this.props.selectedDate,calendarDate:this.state.calendarDate,today:this.props.today,onDateChange:this.props.onDateChange,closeCalendar:this.props.closeCalendar,disabledDates:this.props.disabledDates,disabledDays:this.props.disabledDays,allowPastDates:this.props.allowPastDates,allowFutureDates:this.props.allowFutureDates})},subYear:function(){this.setState({calendarDate:this.props.dateUtils.helpers.subYears(this.state.calendarDate,1)})},subMonth:function(){this.setState({calendarDate:this.props.dateUtils.helpers.subMonths(this.state.calendarDate,1)})},addMonth:function(){this.setState({calendarDate:this.props.dateUtils.helpers.addMonths(this.state.calendarDate,1)})},addYear:function(){this.setState({calendarDate:this.props.dateUtils.helpers.addYears(this.state.calendarDate,1)})},getSkinProperties:function(){return{previousYearNav:{onClick:this.subYear},previousMonthNav:{onClick:this.subMonth},currentMonthWithYear:{children:this.props.dateUtils.helpers.getDateByFormat(this.state.calendarDate,this.props.dateUtils.constants.DATE_FORMAT.MMMM_YYYY)},currentMonth:{children:this.props.dateUtils.helpers.getDateByFormat(this.state.calendarDate,this.props.dateUtils.constants.DATE_FORMAT.MMMM)},previousYear:{children:this.props.dateUtils.helpers.getDateByFormat(this.props.dateUtils.helpers.subYears(this.state.calendarDate,1),this.props.dateUtils.constants.DATE_FORMAT.YYYY)},currentYear:{children:this.props.dateUtils.helpers.getDateByFormat(this.state.calendarDate,this.props.dateUtils.constants.DATE_FORMAT.YYYY)},nextYear:{children:this.props.dateUtils.helpers.getDateByFormat(this.props.dateUtils.helpers.addYears(this.state.calendarDate,1),this.props.dateUtils.constants.DATE_FORMAT.YYYY)},nextMonthNav:{onClick:this.addMonth},nextYearNav:{onClick:this.addYear},dayNames:{children:this.generateDayNames()},month:this.generateMonth()}}}}),define("datePicker/subComponents/datePickerComp",["lodash","core","textCommon","santaProps","datePicker/subComponents/calendar"],function(a,b,c,d,e){"use strict";return{displayName:"DatePicker",propTypes:a.assign({compData:d.Types.Component.compData.isRequired,compProp:d.Types.Component.compProp.isRequired,id:d.Types.Component.id.isRequired,styleId:d.Types.Component.styleId.isRequired,renderFlags:d.Types.renderFlags.isRequired,windowClickEventAspect:d.Types.Aspects.windowClickEventAspect.isRequired},d.santaTypesUtils.getSantaTypesByDefinition(e)),statics:{useSantaTypes:!0},mixins:[b.compMixins.skinBasedComp,c.textScaleMixin],getInitialState:function(){var a=this.props.compData.selectedDate;return{shouldShowCalendar:!1,dateUtilsInit:!1,selectedDate:a?new Date(a):null}},componentWillReceiveProps:function(a){a.renderFlags.shouldResetComponent&&this.closeCalendar();var b=a.compData.selectedDate;this.state.dateUtilsInit&&!this.dateUtils.helpers.isEqual(this.state.selectedDate,b)&&this.setState({selectedDate:b?new Date(b):null})},componentWillMount:function(){var a=this;require(["dateUtils"],function(b){a.dateUtils=b,a.setState({dateUtilsInit:!0})})},componentDidMount:function(){this.props.windowClickEventAspect.registerToDocumentClickEvent(this.props.id)},componentWillUnmount:function(){this.props.windowClickEventAspect.unRegisterToDocumentClickEvent(this.props.id)},onDocumentClick:function(b){var c=b.target.className,d=b.target.id,e=this.props.styleId,f=a.includes(d,this.props.id)&&a.includes(c,e+"input"),g=a.includes(c,e+"calendar");f||g||this.closeCalendar()},closeCalendar:function(){this.setState({shouldShowCalendar:!1})},toggleCalendar:function(){this.setState({shouldShowCalendar:!this.state.shouldShowCalendar})},onDateChange:function(a){this.setState({selectedDate:a})},isPreviewState:function(b){var c=this.props.renderFlags.componentPreviewStates[this.props.id];return a.includes(c,b)},getCalendarProperties:function(){return{id:this.props.id+"calendar",ref:this.props.id+"calendar",style:{},dateUtils:this.dateUtils,calendarDate:this.state.selectedDate||this.dateUtils.helpers.getStartOfToday(),today:this.dateUtils.helpers.getStartOfToday(),closeCalendar:this.closeCalendar,onDateChange:this.onDateChange,allowPastDates:this.props.compData.allowPastDates,allowFutureDates:this.props.compData.allowFutureDates,disabledDates:this.props.compData.disabledDates,disabledDays:this.props.compData.disabledDays,selectedDate:this.state.selectedDate}},getCalendar:function(){var a=this.state.shouldShowCalendar&&this.state.dateUtilsInit;return a?this.createChildComponent({},"wysiwyg.viewer.components.Calendar","calendar",this.getCalendarProperties()):{}},getDateInputText:function(){var a="";return this.state.selectedDate&&this.state.dateUtilsInit&&(a=this.dateUtils.helpers.getDateByFormat(this.state.selectedDate,this.props.compProp.dateFormat)),a},getPlaceholderText:function(){var a=this.props.compProp.placeholder;return this.props.compData.selectedDate||!a?"":a},getHostCssClasses:function(){var a={};return a.focused=this.state.shouldShowCalendar,a[this.props.compProp.textAlignment+"-direction"]=!0,this.classSet(a)},getInputSkinProperties:function(){var b=this.props.compProp.textPadding,c=this.props.compProp.textAlignment,d="right"===c?{paddingRight:b}:{paddingLeft:b};return{value:this.getDateInputText(),placeholder:this.getPlaceholderText(),disabled:!0,style:a.merge(this.getFontSize(this.props),d)}},getSkinProperties:function(){return{"":{className:this.getHostCssClasses(),"data-disabled":!!this.props.compProp.isDisabled,"data-error":!1},inputWrapper:{onClick:this.state.dateUtilsInit?this.toggleCalendar:null},input:this.getInputSkinProperties(),calendar:this.getCalendar()}}}}),define("datePicker",["datePicker/subComponents/datePickerComp","datePicker/subComponents/calendar","datePicker/subComponents/month","datePicker/subComponents/day"],function(a,b,c,d){"use strict";return{datePicker:a,calendar:b,month:c,day:d}});